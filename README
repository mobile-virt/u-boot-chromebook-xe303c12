This is the u-boot code forked from : 

https://github.com/virtualopensystems/u-boot/

and updated to today,with the goal to virtualize FreeBSD or Linux on the ARM Chromebook model xe303c12 
using qemu and kvm on a more recent kernel version (5.4.257) on top of an upgraded Linux distro (Devuan 5 or Ubuntu 22.04)
It works at today even if some slightly changes are needed to the source code. 

HOW TO :

1) you should clone this repository : https://github.com/mobile-virt/u-boot-chromebook-xe303c12/

2) Get Devuan 5 from here : 

https://drive.google.com/u/0/uc?id=1-obTOWKIbgRjQZDjjQazbOtPFHboeA8N&export=download
(source : https://github.com/quarkscript/linux-armv7-xe303c12-only)

unpack the zipped file and then dd the image file called : 

xe303c12_vubu_xfce_1882M_btrfs_5.15.79.img 

to a good sd card (I suggest a "SanDisk of 120 GB or more) with the following command :

# dd if=xe303c12_vubu_xfce_1882M_btrfs_5.15.79.img of=/dev/sdg

3) when the cloning process is finished,you have to mount the partition 2 with the command : 

mount -t auto /dev/sdg2 /mnt/sdg2

4) now you should copy the content of /mnt/sdg2 somewhere on the disk of your main PC with the commands : 

a) cd /mnt/sdg2
b) mkdir -p /home/user/downloads/devuan5-rootfs
c) rsync -avxHAX * /home/user/downloads/devuan5-rootfs
d) umount /mnt/sdg2

5) you should copy this file : 

https://github.com/mobile-virt/u-boot-chromebook-xe303c12/blob/chromebook/nv_u-boot-snow.kpart 

to this directory :

/home/user/Downloads/u-boot-chromebook/scripts

6) Now you need to properly prepare the boot medium for installing u-boot. 
In the uboot source directory:

$ sudo ./scripts/sdcard.sh /dev/sdX

This will erase all data and create 4 partitions in the medium, 
along with copying the u-boot binary to the first partition:

a) ChromeOS signed binary (our chained u-boot)
b) Partition 2 not used
c) EXT2 partition for u-boot files (uImage and exynos5250-snow.dtb)
d) EXT4 partition for userspace files

7) now mount the 4. partition with the command : mount -t auto /dev/sdg4 /mnt/sdg4

8) create this directory : mkdir /mnt/sdg4/devuan5-rootfs

9) now you should copy the files that you have previously copied from here : 

/home/user/downloads/devuan5-rootfs 

to here : /mnt/sdg4/devuan5-rootfs 

using the usual rsync command : 

# cd /home/user/downloads/devuan5-rootfs
# rsync -avxHAX * /mnt/sdg4

9) edit the /etc/fstab file,removing everything and adding something like this :

LABEL=BOOT /boot ext4 defaults,noatime,nodiratime,errors=remount-ro 0 2
LABEL=ROOT / ext4 defaults,noatime,nodiratime,errors=remount-ro 0 1

10) umount /dev/sdg4

11) now let's prepare the appropriate kernel (not higher than 5.4,because on ARM 32 bit
kvm has been removed starting from qemu 5.2 and main line kernel 5.7,but using 5.4 is better)

12) you have to mount the partition 3 with the command : 

mount -t auto /dev/sdg3 /mnt/sdg3

13) get this kernel file :

https://github.com/mobile-virt/u-boot-chromebook-xe303c12/blob/chromebook/guide/uImage

14) get this file :

https://github.com/mobile-virt/u-boot-chromebook-xe303c12/blob/chromebook/guide/exynos5250-snow.dtb

and copy them to : /mnt/sdg3


to be continued...

















# (C) Copyright 2000 - 2012
# Wolfgang Denk, DENX Software Engineering, wd@denx.de.
#
# See file CREDITS for list of people who contributed to this
# project.
#
# This program is free software; you can redistribute it and/or
# modify it under the terms of the GNU General Public License as
# published by the Free Software Foundation; either version 2 of
# the License, or (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.	See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program; if not, write to the Free Software
# Foundation, Inc., 59 Temple Place, Suite 330, Boston,
# MA 02111-1307 USA
